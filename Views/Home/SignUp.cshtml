@{
    ViewData["Title"] = "Sign Up";
}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <h2 class="text-center mb-4">Sign Up</h2>
            <form asp-area="" asp-controller="Home" asp-action="Index" method="post" id="signupForm">
                <div class="form-group">
                    <label for="role">Choose the role you want to be.</label>
                    <select class="form-control" id="role" name="role">
                        <option value="Cinephile">Cinephile</option>
                        <option value="Film Expert">Film Expert</option>
                    </select>
                </div>
                <button type="submit" value="SignUp" class="btn btn-primary btn-block mb-3">Next</button>
            </form>
            <div class="text-center">
                <a asp-area="" asp-controller="Home" asp-action="LogIn">Log In</a>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script>
        $(document).ready(function () {
            // Get the form element by id
            var signupForm = $("#signupForm");

            // Attach an event listener for form submission
            signupForm.on("submit", function (event) {
                // Get the selected role from the dropdown
                var selectedRole = $("#role").val();

                // Update the form's action based on the selected role
                if (selectedRole === "Cinephile") {
                    signupForm.attr("action", "/Cinephiles/Create");
                } else if (selectedRole === "Film Expert") {
                    signupForm.attr("action", "/Film_Expert/Create");
                }
            });
        });
    </script>
}